## 정규화
> 데이터베이스 설계 과정에서 데이터 중복을 최소화하여 이상현상을 방지하고, 데이터 무결성을 유지하기 위해 테이블을 체계적으로 분할하는 과정이다. 이 과정을 통해 각 테이블은 불필요한 데이터 중복 없이 최소한의 데이터만을 포함하게 된다.

### 정규화의 필요성
- 데이터 중복 감소
  - 데이터 중복을 줄여 저장 공간을 효율적으로 사용할 수 있다.
- 데이터 무결성 보장
  - 각 테이블이 중복 없이 독립적인 데이터를 가지므로, 데이터의 일관성과 정확성이 유지된다.
- 이상 현상 방지
  - 삽입 이상, 삭제 이상, 수정 이상 등의 데이터베이스 이상 현상을 방지한다.
- 쿼리 성능 개선
  - 중복 데이터가 줄어들면서 쿼리의 효율성이 향상된다.
    
> 정규화는 데이터 무결성과 쿼리 성능을 향상시키지만, 지나치게 많은 정규화는 테이블의 수를 증가시켜 관리의 복잡성을 높일 수 있다. 따라서, 필요에 따라 적절한 수준의 정규화를 결정해야 한다.

---

# 정규화 과정
정규화는 여러 단계(1차 정규형, 2차 정규형, 3차 정규형 등)로 진행된다. 각 단계는 데이터의 중복을 줄이고, 무결성을 높이는 데 초점을 맞춘다.

## 1차 정규형

> 1차 정규형은 데이터베이스 정규화의 첫 단계로, 데이터 중복을 최소화하고 무결성을 유지하는 데 기본이 되는 중요한 개념이다. 
> <br> 1차 정규형은 테이블의 모든 **컬럼이 원자값(Atomic Value)을 갖도록** 설계된 상태를 말한다.
> 즉, 각 컬럼에는 반복되는 그룹이나 여러 값을 가지는 필드가 없어야 하며, 모든 필드는 각 행마다 유일한 값을 가져야 한다.

### 적용 전

|학생 ID| 학생 이름 |수강 과목| 수강 교수 |
|------|-------|---|-------|
|1| 홍길동   |	수학, 영어, 과학| 김수학, 김영어, 김과학|
|2| 이순신   | 	수학, 역사| 김수학, 김역사|
위 테이블은 '수강 과목' 컬럼이 여러 값을 포함하고 있어 1차 정규형을 만족하지 않는다.

### 적용 후

'수강 과목'을 원자값으로 분할하여 각 행이 하나의 과목만을 나타내도록 수정한다.

|학생 ID|학생 이름|수강 과목| 수강 교수|
|------|-------|---|---|
|1|	홍길동|	수학| 김수학|  
|1|	홍길동|	영어| 김영어|
|1|	홍길동|	과학| 김과학|
|2|	이순신|	수학| 김수학|
|2|	이순신|	역사| 김역사|
이 테이블은 모든 필드가 원자값을 가지므로 1차 정규형을 만족한다.

### 발생가능 상태이상
 - 삽입 이상
   - 아직 아무도 수강하지 않는 과목이 개설될 때, 학생 정보가 NULL 로 들어가야 한다.
 - 수정 이상
   - 만약 수학 과목 교수가 김벡터로 변경되면, 수학을 수강하는 모든 학생의 row를 수정해야 한다.
 - 삭제 이상
   - 역사를 듣는 학생은 이순신 뿐인데, 만약 이순신이 수강철회 한다면 역사과목의 정보 자체가 사라지게 된다.


## 2차 정규형

> 2차 정규형은 1차 정규형을 만족하는 테이블에서 부분 함수적 종속성 (기본키가 아닌 컬럼에 종속되거나, 복합키인 기본키의 일부에만 종속)을 제거한 상태를 말한다.
> 즉, 모든 **비주요 속성이 기본 키 전체에 대해서만 함수적으로 종속**되어야 한다.

### 적용 전
|학생 ID| 수강 과목 ID | 과목 명 |
|------|----------|-----|
|1| 	1       | 	수학 |
|1| 	2       | 	영어 |
|2| 	1       | 	수학 |
|2| 	3       | 	역사 |
이 테이블에서 '과목 명'은 '수강 과목 ID'에만 종속되어 있으며, '학생 ID'와는 관련이 없다. 이는 부분 함수적 종속성을 의미한다. 

### 적용 후
'학생 수강 정보'와 '과목' 정보를 분리한다.

|학생 ID| 수강 과목 ID |
|------|----------|
|1| 	1       |
|1| 	2       |
|2| 	1       |
|2| 	3       |


| 수강 과목 ID | 과목 명 |
|----------|------|
| 1        | 	수학 |
| 2        | 	영어 |
| 3        | 	역사 |
이제 각 테이블은 2차 정규형을 만족한다. '학생 수강 정보' 테이블에서는 모든 정보가 기본 키(학생 ID, 수강 과목 ID)에 완전히 종속되며, '과목' 테이블은 각 과목의 과목 명 정보만을 가진다.

> 2차 정규형은 1차 정규형을 한 단계 더 발전시켜, 복합 키를 포함한 테이블에서 발생할 수 있는 부분 함수적 종속성 문제를 해결한다. 이를 통해 데이터의 중복을 더욱 줄이고, 데이터베이스의 무결성을 높일 수 있다.

## 3차 정규형

> 3차 정규형은 2차 정규형을 만족하며, 모든 비주요 속성이 이행적으로 함수적으로 종속되지 않는 상태를 말한다.
> <br>즉, 비주요 속성이 기본 키에만 직접 종속되어야 한다.

### 적용 전
|학생 ID|학생 이름| 소득분위 | 등록금 할인율(%) |
|----|----|------|---------|
|1|	홍길동| 	1	  | 20      |
|1|	홍길동| 	2	  | 10      |
|2|	이순신| 	1	  | 20      |
|2|	이순신| 	3	  | 0       |

> 만약 소득분위 별 등록금 할인율에 변동이 생기면 학생 수 만큼의 데이터 row 수정이 이뤄진다.

### 적용 후

'학생 정보' 테이블에서 '등록금 할인율'을 분리하여 '등록금 할인율'은 '소득분위'에 직접적으로 종속되도록 수정한다.

|학생 ID|학생 이름| 소득분위|
|----|----|------|
|1|	홍길동| 	1	  |
|1|	홍길동| 	2	  |
|2|	이순신| 	1	  |
|2|	이순신| 	3	  |

| 소득분위 | 등록금 할인율(%) |
|------|------------|
| 1    | 	20        |
| 2    | 	10        |
| 3    | 	0         |

> 만약 소득분위 별 등록금 할인율에 변동이 생기더라도, 소득분위 및 등록금 정보 테이블만 수정하면 된다.


## 보이스코드 (?)