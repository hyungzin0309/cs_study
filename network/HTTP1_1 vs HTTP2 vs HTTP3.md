## HTTP/1.1 vs HTTP/2 vs HTTP/3 비교

> HTTP는 웹에서 데이터를 주고받는 대표적인 프로토콜로, HTTP/1.1 → HTTP/2 → HTTP/3 순으로 발전해왔다.  
각 버전별 특징과 차이점을 정리하면 다음과 같다.

---

## 1. 주요 비교표

| 비교 항목      | HTTP/1.1 | HTTP/2 | HTTP/3 |
|--------------|---------|--------|--------|
| **전송 방식** | 텍스트 기반 | 바이너리 기반 | 바이너리 기반 |
| **멀티플렉싱** | ❌ (요청-응답 직렬 처리) | ✅ (하나의 연결에서 다중 요청 처리) | ✅ (멀티플렉싱, HOL 블로킹 해결) |
| **헤더 압축** | ❌ (매 요청마다 전체 헤더 포함) | ✅ (HPACK 압축) | ✅ (QPACK 압축) |
| **연결 프로토콜** | TCP + HTTP | TCP + HTTP | **UDP + QUIC** |
| **HOL 블로킹** | 있음 (TCP 기반) | 일부 존재 (TCP로 인해) | 없음 (UDP 기반 QUIC 사용) |
| **서버 푸시** | ❌ | ✅ | ✅ |
| **우선순위 지정** | ❌ | ✅ | ✅ |
| **연결 속도** | 느림 (TCP 핸드셰이크 필요) | TCP로 인해 지연 | 빠름 (0-RTT 핸드셰이크) |
| **보안 (TLS)** | 선택 (HTTP) / TLS 1.2 이상 (HTTPS) | TLS 1.2 / 1.3 지원 | **TLS 1.3 기본 내장** |
| **브라우저 지원** | 대부분 지원 | 대부분 지원 | 최신 브라우저 지원 중 |

---

## 2. 상세 비교

### 🔹 1) **전송 방식**
- **HTTP/1.1**: 텍스트 기반 (요청/응답을 텍스트로 주고받음)
- **HTTP/2 & HTTP/3**: 바이너리 기반 (프레임 단위로 데이터를 전송하여 효율성 증가)

### 🔹 2) **멀티플렉싱**
- **HTTP/1.1**: 한 번에 하나의 요청만 처리 (직렬 처리, 병목 발생)
- **HTTP/2**: 하나의 TCP 연결에서 **여러 개의 요청을 동시에 처리 가능**
- **HTTP/3**: HTTP/2의 멀티플렉싱을 유지하면서 **UDP 기반 QUIC으로 성능 개선**

### 🔹 3) **HOL 블로킹 해결**
- **HTTP/1.1**: 하나의 요청이 지연되면 다른 요청도 대기해야 함 (Head-of-Line Blocking)
- **HTTP/2**: 멀티플렉싱을 지원하지만, **TCP 내에서 순서 보장 때문에 여전히 일부 HOL 블로킹 존재**
- **HTTP/3**: **UDP 기반 QUIC 사용**으로 패킷 손실 시에도 다른 스트림이 영향을 받지 않음 (HOL 블로킹 완전 해결)

### 🔹 4) **연결 프로토콜**
- **HTTP/1.1 & HTTP/2**: **TCP 기반** (3-Way Handshake로 연결 수립 필요)
- **HTTP/3**: **UDP 기반 QUIC 사용** → **0-RTT 핸드셰이크**로 연결 속도 개선

### 🔹 5) **헤더 압축**
- **HTTP/1.1**: 요청마다 전체 헤더 포함 (데이터 중복 발생)
- **HTTP/2**: **HPACK 압축** 사용 (헤더 크기 줄임)
- **HTTP/3**: **QPACK 압축** 사용 (QUIC에 최적화된 헤더 압축)

### 🔹 6) **서버 푸시**
- **HTTP/1.1**: ❌ 없음
- **HTTP/2 & HTTP/3**: ✅ 있음 (서버가 클라이언트 요청 전에 필요한 리소스를 미리 전송)

### 🔹 7) **보안 (TLS)**
- **HTTP/1.1**: 기본적으로 암호화 없음 (HTTPS 사용 시 TLS 1.2 이상 적용)
- **HTTP/2**: TLS 1.2 이상 필요
- **HTTP/3**: **TLS 1.3 기본 내장** (보안 강화 및 핸드셰이크 속도 개선)

---

## 3. HTTP/3의 장점
✅ **빠른 연결 수립**: UDP + QUIC 사용으로 0-RTT 핸드셰이크 지원  
✅ **HOL 블로킹 해결**: HTTP/2의 단점(TCP 기반 HOL 블로킹) 완전 제거  
✅ **보안 강화**: TLS 1.3 기본 내장으로 보안성과 속도 향상  
✅ **모바일 환경 최적화**: 패킷 손실 시 개별 스트림만 재전송 → 성능 향상

---

## 4. 결론: 언제 사용해야 할까?
| 선택 기준 | 추천 HTTP 버전 |
|-----------|--------------|
| **가장 널리 사용되는 버전** | HTTP/1.1 (여전히 기본 지원) |
| **성능 최적화가 필요할 때** | HTTP/2 (대부분의 웹사이트에서 사용) |
| **최신 기술 + 빠른 속도 필요** | HTTP/3 (점진적 도입 중) |

현재 HTTP/2가 대부분의 웹사이트에서 사용되고 있으며, HTTP/3는 점차 도입되고 있는 상태다.  
특히, **모바일 환경과 고성능 네트워크가 필요한 경우 HTTP/3가 더 유리**하다.