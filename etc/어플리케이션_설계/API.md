좋은 API를 설계하기 위한 몇 가지 핵심 규칙은 다음과 같다. 이 규칙들은 API의 사용성과 유지보수성을 높여 개발자와 사용자 모두에게 유익하다.

### 1. **일관성 있는 네이밍 규칙 사용**
- 모든 엔드포인트와 매개변수에 일관된 네이밍 컨벤션을 유지해야 한다. 일반적으로 REST API에서는 소문자와 하이픈(`-`)을 사용해 단어를 구분한다.
- **예시**: `/users` (사용자 목록), `/users/{user_id}/orders` (특정 사용자의 주문 목록)

### 2. **HTTP 메서드와 상태 코드 적절히 활용**
- HTTP 메서드(GET, POST, PUT, DELETE 등)를 적절히 사용해 엔드포인트의 의도를 명확히 한다. 각 작업에 적합한 상태 코드(200, 201, 400, 404, 500 등)를 반환해 클라이언트가 요청 결과를 쉽게 이해할 수 있도록 한다.
- **예시**: 리소스를 조회할 때는 `GET`, 새 리소스를 생성할 때는 `POST`, 리소스를 수정할 때는 `PUT`을 사용하고, 요청 성공 시 `200 OK`나 `201 Created`를 반환한다.

### 3. **명확한 리소스 기반 구조**
- RESTful한 설계에서는 리소스를 중심으로 URL을 구성해야 한다. 엔드포인트가 동사 대신 명사를 사용해 리소스를 나타내도록 한다.
- **예시**: `/products` (상품 목록), `/products/{product_id}` (특정 상품), `/products/{product_id}/reviews` (상품의 리뷰 목록)

### 4. **버전 관리**
- API의 변경이 기존 사용자에게 영향을 주지 않도록 버전 관리를 도입해야 한다. 일반적으로 URL에 버전을 포함해 사용한다.
  - 가장 좋은 것은 API 가 변경되지 않는 것이나, API 가 변경되는 상황은 충분히 올 수 있다. 따라서 각 변경을 버전으로 관리하고, 오래된 버전을 사용하는 client 와는 충분한 소통을 통해 높은 버전으로 마이그레이션할 수 있도록 유도해야 한다.
- **예시**: `/v1/products`와 같이 경로에 버전을 포함시키면 기존 사용자에게 영향 없이 업데이트할 수 있다.

### 5. **표준적인 오류 처리**
- 오류가 발생했을 때, 클라이언트가 문제의 원인을 쉽게 이해할 수 있도록 표준화된 오류 응답을 제공해야 한다. HTTP 상태 코드와 함께 `message`, `error_code` 등의 필드를 포함한 JSON 형식으로 반환하는 것이 좋다.
- **예시**:
  ```json
  {
    "error_code": "USER_NOT_FOUND",
    "message": "The specified user does not exist."
  }
  ```

### 6. **필터링, 정렬, 페이징 제공**
- 데이터 목록을 조회할 때 클라이언트가 원하는 데이터를 효과적으로 가져갈 수 있도록 필터링, 정렬, 페이징 기능을 지원한다.
- **예시**: `/products?category=electronics&sort=price&limit=10&page=2` (카테고리 필터, 가격순 정렬, 페이지네이션)

### 7. **문서화와 예제 제공**
- API 사용자들이 쉽게 이해하고 활용할 수 있도록 문서화와 코드 예제를 제공한다. Swagger와 같은 도구를 이용하면 자동화된 문서 생성을 통해 편리하게 관리할 수 있다.


### 8. **멱등성(Idempotency) 고려**
- 멱등성이란, 동일한 요청을 여러 번 반복해도 결과가 변하지 않는 성질을 말한다. API 설계에서 멱등성을 보장하면 네트워크 문제 등으로 인해 요청이 중복되더라도 안전하게 처리할 수 있다.
    - `GET`, `PUT`, `DELETE` 메서드는 일반적으로 멱등성을 가져야 한다.
    - `PUT /users/{user_id}`: 동일한 사용자 정보 업데이트 요청을 여러 번 보내도 최종 결과는 동일해야 한다.
    - **POST는 기본적으로 멱등성이 없다.** 새 리소스를 생성할 때마다 중복 데이터가 생성될 수 있기 때문이다. 그러나 특정 상황에서 **Idempotency Key**를 사용하여 POST 요청도 멱등성을 보장할 수 있다.


---

이와 같은 규칙을 준수하면 API가 일관성 있고 사용하기 쉬우며 유지보수가 용이하게 설계될 수 있다.
<br>또한 사용자가 기대한 동작을 명확히 수행할 수 있다.